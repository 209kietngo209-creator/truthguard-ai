<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TruthGuard AI ‚Äì Ph√°t hi·ªán Tin Gi·∫£</title>
  <style>
    /* ===== RESET & BASE ===== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --blue-dark:   #1a3a6b;
      --blue-main:   #2563eb;
      --blue-light:  #3b82f6;
      --blue-pale:   #eff6ff;
      --green:       #16a34a;
      --yellow:      #d97706;
      --red:         #dc2626;
      --gray-1:      #f8fafc;
      --gray-2:      #e2e8f0;
      --gray-3:      #94a3b8;
      --text-dark:   #1e293b;
      --text-mid:    #475569;
      --radius:      14px;
      --shadow:      0 4px 24px rgba(37,99,235,.12);
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #dbeafe 0%, #f0f9ff 60%, #eff6ff 100%);
      min-height: 100vh;
      color: var(--text-dark);
    }

    /* ===== HEADER ===== */
    header {
      background: linear-gradient(135deg, var(--blue-dark) 0%, var(--blue-main) 100%);
      color: #fff;
      text-align: center;
      padding: 48px 20px 36px;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute; inset: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.04'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
    .logo-icon { font-size: 52px; display: block; margin-bottom: 10px; }
    header h1 { font-size: clamp(1.6rem, 5vw, 2.6rem); font-weight: 800; letter-spacing: -0.5px; }
    header p  { margin-top: 8px; font-size: clamp(.9rem, 2.5vw, 1.1rem); opacity: .85; }

    /* ===== BADGE ===== */
    .badge {
      display: inline-flex; align-items: center; gap: 6px;
      background: rgba(255,255,255,.18); border: 1px solid rgba(255,255,255,.3);
      border-radius: 999px; padding: 4px 14px; font-size: .78rem;
      margin-top: 14px; backdrop-filter: blur(6px);
    }

    /* ===== MAIN CONTAINER ===== */
    main {
      max-width: 780px;
      margin: -20px auto 60px;
      padding: 0 16px;
    }

    /* ===== CARD ===== */
    .card {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px 28px 32px;
      margin-bottom: 20px;
    }

    .card-label {
      font-size: .75rem; font-weight: 700; letter-spacing: .08em;
      text-transform: uppercase; color: var(--blue-main); margin-bottom: 10px;
    }

    /* ===== TEXTAREA ===== */
    textarea {
      width: 100%; min-height: 160px;
      border: 2px solid var(--gray-2);
      border-radius: 10px; padding: 14px 16px;
      font-size: 1rem; line-height: 1.6;
      color: var(--text-dark); resize: vertical;
      transition: border-color .25s;
      font-family: inherit;
    }
    textarea:focus { outline: none; border-color: var(--blue-light); box-shadow: 0 0 0 4px rgba(59,130,246,.12); }
    textarea::placeholder { color: var(--gray-3); }

    /* ===== COUNTER ===== */
    .char-count { text-align: right; font-size: .78rem; color: var(--gray-3); margin-top: 6px; }

    /* ===== BUTTON ===== */
    .btn-analyze {
      display: flex; align-items: center; justify-content: center; gap: 10px;
      width: 100%; padding: 15px;
      background: linear-gradient(135deg, var(--blue-main), var(--blue-light));
      color: #fff; font-size: 1.05rem; font-weight: 700;
      border: none; border-radius: 10px; cursor: pointer;
      margin-top: 18px;
      transition: transform .15s, box-shadow .15s;
      box-shadow: 0 4px 16px rgba(37,99,235,.35);
    }
    .btn-analyze:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(37,99,235,.4); }
    .btn-analyze:active:not(:disabled) { transform: translateY(0); }
    .btn-analyze:disabled { opacity: .7; cursor: not-allowed; }

    /* ===== SPINNER ===== */
    .spinner {
      width: 20px; height: 20px;
      border: 3px solid rgba(255,255,255,.4);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin .7s linear infinite;
      display: none;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ===== RESULT AREA ===== */
    #result-area { display: none; }

    /* ===== TRUST METER ===== */
    .trust-header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 8px; margin-bottom: 14px; }
    .trust-label { font-size: 1rem; font-weight: 600; color: var(--text-mid); }
    .trust-badge {
      font-size: .82rem; font-weight: 700; padding: 4px 14px;
      border-radius: 999px; letter-spacing: .03em;
    }
    .trust-badge.high   { background: #dcfce7; color: var(--green);  }
    .trust-badge.medium { background: #fef3c7; color: var(--yellow); }
    .trust-badge.low    { background: #fee2e2; color: var(--red);    }

    .meter-track {
      height: 12px; background: var(--gray-2);
      border-radius: 999px; overflow: hidden; margin-bottom: 6px;
    }
    .meter-fill {
      height: 100%; border-radius: 999px;
      transition: width 1s cubic-bezier(.4,0,.2,1);
      width: 0%;
    }
    .meter-fill.high   { background: linear-gradient(90deg,#4ade80,#16a34a); }
    .meter-fill.medium { background: linear-gradient(90deg,#fbbf24,#d97706); }
    .meter-fill.low    { background: linear-gradient(90deg,#f87171,#dc2626); }

    .meter-labels { display: flex; justify-content: space-between; font-size: .72rem; color: var(--gray-3); }

    /* ===== VERDICT ===== */
    .verdict-box {
      display: flex; align-items: flex-start; gap: 14px;
      padding: 16px; border-radius: 10px; margin-top: 18px;
    }
    .verdict-box.high   { background: #f0fdf4; border-left: 4px solid var(--green);  }
    .verdict-box.medium { background: #fffbeb; border-left: 4px solid var(--yellow); }
    .verdict-box.low    { background: #fef2f2; border-left: 4px solid var(--red);    }
    .verdict-icon { font-size: 28px; flex-shrink: 0; }
    .verdict-title { font-weight: 700; font-size: 1rem; margin-bottom: 4px; }
    .verdict-desc  { font-size: .9rem; color: var(--text-mid); line-height: 1.55; }

    /* ===== DETAIL TAGS ===== */
    .detail-section { margin-top: 20px; }
    .detail-title { font-size: .8rem; font-weight: 700; color: var(--gray-3); text-transform: uppercase; letter-spacing: .07em; margin-bottom: 10px; }
    .tags { display: flex; flex-wrap: wrap; gap: 8px; }
    .tag {
      font-size: .82rem; padding: 5px 12px; border-radius: 999px;
      font-weight: 600;
    }
    .tag.warn { background: #fef3c7; color: #92400e; }
    .tag.ok   { background: #dcfce7; color: #14532d; }
    .tag.info { background: #dbeafe; color: #1e3a8a; }

    /* ===== SIGNAL LIST ===== */
    .signals { list-style: none; margin-top: 14px; display: flex; flex-direction: column; gap: 8px; }
    .signals li {
      display: flex; align-items: flex-start; gap: 10px;
      font-size: .9rem; color: var(--text-mid); line-height: 1.5;
    }
    .signals li .dot {
      width: 8px; height: 8px; border-radius: 50%;
      flex-shrink: 0; margin-top: 6px;
    }
    .dot.red    { background: var(--red);    }
    .dot.yellow { background: var(--yellow); }
    .dot.green  { background: var(--green);  }

    /* ===== TIPS ===== */
    .tips-card {
      background: var(--blue-pale);
      border: 1px solid #bfdbfe;
      border-radius: var(--radius);
      padding: 20px 24px;
      margin-bottom: 20px;
    }
    .tips-card h3 { font-size: .95rem; font-weight: 700; color: var(--blue-dark); margin-bottom: 12px; }
    .tips-list { list-style: none; display: flex; flex-direction: column; gap: 8px; }
    .tips-list li { font-size: .88rem; color: var(--text-mid); display: flex; gap: 8px; }
    .tips-list li::before { content: 'üí°'; flex-shrink: 0; }

    /* ===== FOOTER ===== */
    footer {
      text-align: center; font-size: .8rem;
      color: var(--gray-3); padding: 20px 16px 40px;
    }

    /* ===== ANIMATION ===== */
    .fade-in { animation: fadeIn .4s ease both; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 480px) {
      .card { padding: 20px 16px 24px; }
      header { padding: 36px 16px 28px; }
    }
  </style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header>
  <span class="logo-icon">üõ°Ô∏è</span>
  <h1>TruthGuard AI</h1>
  <p>Tr·ª£ l√Ω ph√°t hi·ªán tin gi·∫£ th√¥ng minh d√†nh cho h·ªçc sinh</p>
  <div class="badge">üéì D·ª± √°n gi√°o d·ª•c ¬∑ Phi√™n b·∫£n Demo</div>
</header>

<!-- ===== MAIN ===== -->
<main>

  <!-- INPUT CARD -->
  <div class="card" style="margin-top:28px;">
    <div class="card-label">üìã Nh·∫≠p n·ªôi dung c·∫ßn ki·ªÉm tra</div>
    <textarea id="inputText"
      placeholder="D√°n n·ªôi dung b√†i vi·∫øt, ti√™u ƒë·ªÅ tin t·ª©c, ho·∫∑c ƒëo·∫°n vƒÉn b·∫£n b·∫°n mu·ªën ki·ªÉm tra t√≠nh x√°c th·ª±c v√†o ƒë√¢y...&#10;&#10;V√≠ d·ª•: &quot;U·ªëng n∆∞·ªõc chanh m·ªói s√°ng c√≥ th·ªÉ ch·ªØa kh·ªèi ung th∆∞ ho√†n to√†n ‚Äì b√°c sƒ© ti·∫øt l·ªô b√≠ m·∫≠t b·ªã gi·∫•u su·ªët 10 nƒÉm!&quot;"
    ></textarea>
    <div class="char-count"><span id="charCount">0</span> k√Ω t·ª±</div>

    <button class="btn-analyze" id="btnAnalyze" onclick="analyze()">
      <span id="btnIcon">üîç</span>
      <span id="btnText">Ph√¢n t√≠ch ngay</span>
      <div class="spinner" id="spinner"></div>
    </button>
  </div>

  <!-- RESULT CARD -->
  <div class="card fade-in" id="result-area">

    <div class="card-label">üìä K·∫øt qu·∫£ ph√¢n t√≠ch</div>

    <!-- Trust Meter -->
    <div class="trust-header">
      <span class="trust-label">M·ª©c ƒë·ªô tin c·∫≠y</span>
      <span class="trust-badge" id="trustBadge">‚Äî</span>
    </div>
    <div class="meter-track">
      <div class="meter-fill" id="meterFill"></div>
    </div>
    <div class="meter-labels">
      <span>Th·∫•p (Nguy hi·ªÉm)</span>
      <span>Trung b√¨nh</span>
      <span>Cao (An to√†n)</span>
    </div>

    <!-- Verdict -->
    <div class="verdict-box" id="verdictBox">
      <div class="verdict-icon" id="verdictIcon">‚Äî</div>
      <div>
        <div class="verdict-title" id="verdictTitle">‚Äî</div>
        <div class="verdict-desc"  id="verdictDesc">‚Äî</div>
      </div>
    </div>

    <!-- Detected Signals -->
    <div class="detail-section">
      <div class="detail-title">üö¶ D·∫•u hi·ªáu ph√°t hi·ªán</div>
      <ul class="signals" id="signalList"></ul>
    </div>

    <!-- Tags -->
    <div class="detail-section" style="margin-top:18px;">
      <div class="detail-title">üè∑Ô∏è Nh√£n ph√¢n lo·∫°i</div>
      <div class="tags" id="tagList"></div>
    </div>

  </div>

  <!-- TIPS CARD -->
  <div class="tips-card">
    <h3>üìö M·∫πo nh·∫≠n bi·∫øt tin gi·∫£ cho h·ªçc sinh</h3>
    <ul class="tips-list">
      <li>Ki·ªÉm tra ngu·ªìn: T√¨m t√™n t√°c gi·∫£ v√† t·ªï ch·ª©c ƒëƒÉng tin.</li>
      <li>ƒê·ªçc to√†n b√†i, ƒë·ª´ng ch·ªâ ƒë·ªçc ti√™u ƒë·ªÅ gi·∫≠t g√¢n.</li>
      <li>Tra c·ª©u th√™m tr√™n 2‚Äì3 ngu·ªìn b√°o uy t√≠n kh√°c.</li>
      <li>Ch√∫ √Ω ng√¥n ng·ªØ c·∫£m x√∫c qu√° m·ª©c, k√™u g·ªçi chia s·∫ª g·∫•p.</li>
      <li>Ki·ªÉm tra ng√†y ƒëƒÉng ‚Äì tin c≈© ƒë√¥i khi ƒë∆∞·ª£c t√°i s·ª≠ d·ª•ng.</li>
      <li>D√πng c√¥ng c·ª• nh∆∞ Google Reverse Image ƒë·ªÉ ki·ªÉm tra ·∫£nh.</li>
    </ul>
  </div>

</main>

<footer>
  TruthGuard AI ¬© 2025 ¬∑ D·ª± √°n gi√°o d·ª•c ¬∑ Kh√¥ng d√πng cho m·ª•c ƒë√≠ch th∆∞∆°ng m·∫°i<br>
  <span style="font-size:.75rem">‚ö†Ô∏è ƒê√¢y l√† phi√™n b·∫£n demo ‚Äì k·∫øt qu·∫£ mang t√≠nh minh ho·∫°</span>
</footer>

<script>
  /* ===== ƒê·∫æM K√ù T·ª∞ ===== */
  const inputText = document.getElementById('inputText');
  const charCount = document.getElementById('charCount');
  inputText.addEventListener('input', () => {
    charCount.textContent = inputText.value.length;
  });

  /* ===== D·ªÆ LI·ªÜU M·∫™U ƒê·ªÇ DEMO ===== */
  // Tu·ª≥ theo t·ª´ kho√° trong vƒÉn b·∫£n, tr·∫£ v·ªÅ k·ªãch b·∫£n ph√π h·ª£p
  const scenarios = {
    low: {
      level: 'low', score: 18,
      badge: 'üî¥ Nguy hi·ªÉm ‚Äì Tin gi·∫£',
      title: 'R·∫•t c√≥ kh·∫£ nƒÉng l√† TIN GI·∫¢ ho·∫∑c g√¢y hi·ªÉu l·∫ßm!',
      desc: 'N·ªôi dung n√†y ch·ª©a nhi·ªÅu d·∫•u hi·ªáu ƒëi·ªÉn h√¨nh c·ªßa tin gi·∫£: ng√¥n ng·ªØ c·∫£m x√∫c c·ª±c ƒëoan, thi·∫øu ngu·ªìn tr√≠ch d·∫´n, th√¥ng tin kh√¥ng th·ªÉ ki·ªÉm ch·ª©ng v√† l·ªùi k√™u g·ªçi chia s·∫ª kh·∫©n c·∫•p.',
      signals: [
        { type: 'red',    text: 'Ng√¥n ng·ªØ gi·∫≠t g√¢n, th·ªïi ph·ªìng qu√° m·ª©c (VD: "b√≠ m·∫≠t b·ªã gi·∫•u", "ti·∫øt l·ªô ch·∫•n ƒë·ªông").' },
        { type: 'red',    text: 'Kh√¥ng c√≥ ngu·ªìn tr√≠ch d·∫´n ho·∫∑c t√°c gi·∫£ c·ª• th·ªÉ.' },
        { type: 'red',    text: 'ƒê∆∞a ra l·ªùi kh·∫≥ng ƒë·ªãnh y t·∫ø / khoa h·ªçc kh√¥ng c√≥ b·∫±ng ch·ª©ng.' },
        { type: 'yellow', text: 'K√™u g·ªçi chia s·∫ª ngay l·∫≠p t·ª©c, t·∫°o c·∫£m gi√°c kh·∫©n c·∫•p.' },
        { type: 'yellow', text: 'N·ªôi dung ƒë√°nh v√†o c·∫£m x√∫c (s·ª£ h√£i, t·ª©c gi·∫≠n, hy v·ªçng qu√° m·ª©c).' },
      ],
      tags: [
        { cls: 'warn', label: '‚ö†Ô∏è Tin gi·∫£' },
        { cls: 'warn', label: 'üî• Gi·∫≠t g√¢n' },
        { cls: 'warn', label: 'üö´ Thi·∫øu ngu·ªìn' },
        { cls: 'info', label: 'üíä Ch·ªß ƒë·ªÅ s·ª©c kho·∫ª' },
      ]
    },
    medium: {
      level: 'medium', score: 55,
      badge: 'üü° C·∫ßn ki·ªÉm ch·ª©ng',
      title: 'N·ªôi dung C·∫¶N KI·ªÇM CH·ª®NG th√™m tr∆∞·ªõc khi tin v√† chia s·∫ª',
      desc: 'N·ªôi dung c√≥ th·ªÉ ch·ª©a m·ªôt s·ªë th√¥ng tin ƒë√∫ng nh∆∞ng c≈©ng c√≥ nh·ªØng ph·∫ßn thi·∫øu ch√≠nh x√°c ho·∫∑c b·ªã b√≥p m√©o. H√£y t√¨m ƒë·ªçc th√™m t·ª´ c√°c ngu·ªìn b√°o ch√≠nh th·ªëng tr∆∞·ªõc khi tin ho√†n to√†n.',
      signals: [
        { type: 'yellow', text: 'M·ªôt s·ªë th√¥ng tin c√≥ th·ªÉ ki·ªÉm ch·ª©ng, m·ªôt s·ªë th√¨ kh√¥ng.' },
        { type: 'yellow', text: 'Ngu·ªìn tr√≠ch d·∫´n m∆° h·ªì ho·∫∑c kh√¥ng r√µ uy t√≠n.' },
        { type: 'green',  text: 'Kh√¥ng s·ª≠ d·ª•ng ng√¥n ng·ªØ qu√° c·ª±c ƒëoan.' },
        { type: 'yellow', text: 'C√≥ th·ªÉ c√≥ thi√™n ki·∫øn m·ªôt chi·ªÅu trong c√°ch tr√¨nh b√†y.' },
        { type: 'green',  text: 'C·∫•u tr√∫c b√†i vi·∫øt t∆∞∆°ng ƒë·ªëi r√µ r√†ng.' },
      ],
      tags: [
        { cls: 'warn', label: 'üîç C·∫ßn ki·ªÉm ch·ª©ng' },
        { cls: 'ok',   label: '‚úÖ M·ªôt ph·∫ßn ƒë√∫ng' },
        { cls: 'warn', label: 'üåÄ Ngu·ªìn m∆° h·ªì' },
      ]
    },
    high: {
      level: 'high', score: 88,
      badge: 'üü¢ ƒê√°ng tin c·∫≠y',
      title: 'N·ªôi dung c√≥ ƒë·ªô tin c·∫≠y CAO',
      desc: 'N·ªôi dung n√†y th·ªÉ hi·ªán nhi·ªÅu ƒë·∫∑c ƒëi·ªÉm c·ªßa th√¥ng tin ch·∫•t l∆∞·ª£ng: c√≥ ngu·ªìn tr√≠ch d·∫´n r√µ r√†ng, ng√¥n ng·ªØ trung l·∫≠p, th√¥ng tin c√≥ th·ªÉ ki·ªÉm ch·ª©ng ƒë∆∞·ª£c t·ª´ nhi·ªÅu ph√≠a. Tuy nhi√™n, v·∫´n n√™n ƒë·ªçc th√™m t·ª´ ngu·ªìn g·ªëc.',
      signals: [
        { type: 'green', text: 'C√≥ tr√≠ch d·∫´n ngu·ªìn ho·∫∑c t√°c gi·∫£ r√µ r√†ng.' },
        { type: 'green', text: 'Ng√¥n ng·ªØ trung l·∫≠p, kh√¥ng c·∫£m x√∫c th√°i qu√°.' },
        { type: 'green', text: 'Th√¥ng tin c·ª• th·ªÉ, c√≥ th·ªÉ ki·ªÉm ch·ª©ng (s·ªë li·ªáu, ng√†y th√°ng...).' },
        { type: 'green', text: 'Kh√¥ng k√™u g·ªçi chia s·∫ª c·∫•p b√°ch ho·∫∑c g√¢y ho·∫£ng lo·∫°n.' },
        { type: 'yellow', text: 'N√™n ƒë·ªçc th√™m ngu·ªìn g·ªëc ƒë·ªÉ c√≥ th√¥ng tin ƒë·∫ßy ƒë·ªß nh·∫•t.' },
      ],
      tags: [
        { cls: 'ok',   label: '‚úÖ ƒê√°ng tin' },
        { cls: 'ok',   label: 'üì∞ C√≥ ngu·ªìn' },
        { cls: 'info', label: 'üîé Ki·ªÉm ch·ª©ng ƒë∆∞·ª£c' },
      ]
    }
  };

  /* ===== PH√ÇN T√çCH (GI·∫¢ L·∫¨P) ===== */
  function classify(text) {
    const t = text.toLowerCase();
    // T·ª´ kho√° g·ª£i √Ω tin gi·∫£
    const fakeKW = ['b√≠ m·∫≠t','gi·∫•u','ti·∫øt l·ªô','ch·∫•n ƒë·ªông','kinh ho√†ng',
                    'kh√¥ng ai bi·∫øt','chia s·∫ª ngay','lan truy·ªÅn','ch·ªØa kh·ªèi',
                    'th·∫ßn k·ª≥','100%','ch·∫Øc ch·∫Øn','b√°c sƒ© gh√©t','h·ªç kh√¥ng mu·ªën'];
    // T·ª´ kho√° g·ª£i √Ω trung b√¨nh
    const medKW  = ['theo ngu·ªìn tin','m·ªôt s·ªë chuy√™n gia','c√≥ th·ªÉ','ƒë∆∞·ª£c cho l√†','nghi ng·ªù'];
    // T·ª´ kho√° g·ª£i √Ω ƒë√°ng tin
    const goodKW = ['theo vnexpress','theo tu·ªïi tr·∫ª','nghi√™n c·ª©u','ƒë·∫°i h·ªçc','b·ªô y t·∫ø',
                    'th·ªëng k√™','b√°o c√°o','h·ªôi ƒë·ªìng','c√¥ng b·ªë ch√≠nh th·ª©c'];

    let fakeScore = fakeKW.filter(k => t.includes(k)).length;
    let goodScore = goodKW.filter(k => t.includes(k)).length;

    if (fakeScore >= 2)       return scenarios.low;
    if (goodScore >= 2)       return scenarios.high;
    if (fakeScore === 1)      return scenarios.medium;
    // VƒÉn b·∫£n ng·∫Øn ‚Üí m·∫∑c ƒë·ªãnh medium
    if (text.length < 80)     return scenarios.medium;
    // Ng·∫´u nhi√™n cho demo n·∫øu kh√¥ng kh·ªõp t·ª´ kho√°
    const rand = Math.random();
    if (rand < 0.33) return scenarios.low;
    if (rand < 0.66) return scenarios.medium;
    return scenarios.high;
  }

  function renderResult(s) {
    const resultArea  = document.getElementById('result-area');
    const trustBadge  = document.getElementById('trustBadge');
    const meterFill   = document.getElementById('meterFill');
    const verdictBox  = document.getElementById('verdictBox');
    const verdictIcon = document.getElementById('verdictIcon');
    const verdictTitle= document.getElementById('verdictTitle');
    const verdictDesc = document.getElementById('verdictDesc');
    const signalList  = document.getElementById('signalList');
    const tagList     = document.getElementById('tagList');

    // Hi·ªÉn th·ªã khu v·ª±c k·∫øt qu·∫£
    resultArea.style.display = 'block';
    resultArea.classList.remove('fade-in');
    void resultArea.offsetWidth; // reflow ƒë·ªÉ restart animation
    resultArea.classList.add('fade-in');

    // Badge & meter
    const icons = { high:'‚úÖ', medium:'‚ö†Ô∏è', low:'‚ùå' };
    trustBadge.textContent  = s.badge;
    trustBadge.className    = `trust-badge ${s.level}`;
    meterFill.className     = `meter-fill ${s.level}`;
    // ƒê·∫∑t width sau 1 frame ƒë·ªÉ trigger transition
    requestAnimationFrame(() => { meterFill.style.width = s.score + '%'; });

    // Verdict
    verdictBox.className  = `verdict-box ${s.level}`;
    verdictIcon.textContent = icons[s.level];
    verdictTitle.textContent = s.title;
    verdictDesc.textContent  = s.desc;

    // Signals
    signalList.innerHTML = s.signals.map(sig =>
      `<li><span class="dot ${sig.type}"></span>${sig.text}</li>`
    ).join('');

    // Tags
    tagList.innerHTML = s.tags.map(t =>
      `<span class="tag ${t.cls}">${t.label}</span>`
    ).join('');

    // Scroll m∆∞·ª£t xu·ªëng k·∫øt qu·∫£
    setTimeout(() => resultArea.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
  }

  function analyze() {
    const text = inputText.value.trim();

    // Ki·ªÉm tra ƒë·∫ßu v√†o r·ªóng
    if (!text) {
      inputText.style.borderColor = 'var(--red)';
      inputText.focus();
      setTimeout(() => inputText.style.borderColor = '', 1200);
      return;
    }

    // ƒê·ªïi tr·∫°ng th√°i n√∫t ‚Üí loading
    const btn     = document.getElementById('btnAnalyze');
    const btnIcon = document.getElementById('btnIcon');
    const btnTxt  = document.getElementById('btnText');
    const spinner = document.getElementById('spinner');

    btn.disabled = true;
    btnIcon.style.display = 'none';
    btnTxt.textContent = 'ƒêang ph√¢n t√≠ch...';
    spinner.style.display = 'block';

    // Gi·∫£ l·∫≠p ƒë·ªô tr·ªÖ API (1.5 ‚Äì 2.5 gi√¢y)
    const delay = 1500 + Math.random() * 1000;
    setTimeout(() => {
      const result = classify(text);
      renderResult(result);

      // Kh√¥i ph·ª•c n√∫t
      btn.disabled = false;
      btnIcon.style.display = 'inline';
      btnTxt.textContent = 'Ph√¢n t√≠ch l·∫°i';
      spinner.style.display = 'none';
    }, delay);
  }

  /* Cho ph√©p Ctrl+Enter ƒë·ªÉ ph√¢n t√≠ch nhanh */
  inputText.addEventListener('keydown', e => {
    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') analyze();
  });
</script>
</body>
</html>